## 基本操作

### 数组的创建


```python
import numpy as np #shift+Enter 执行代码
```


```python
# 创建可以将Python中的列表转换成NumPy数组
l = [1,2,3,4,5] #列表
np1 = np.array(l)
print(np1)
display(np1)
```

    [1 2 3 4 5]



    array([1, 2, 3, 4, 5])



```python
np2 = np.zeros(shape=(3,4),dtype=np.int16)# 0数组 
# shift+tab 查看提示方法的属性及其使用
np2 #jupyter中执行程序，代码，最后一行默认就是输出
```




    array([[0, 0, 0, 0],
           [0, 0, 0, 0],
           [0, 0, 0, 0]], dtype=int16)




```python
np4 = np.random.randint(1,100,10) #random 随机种子，随机生成一些数。randint生成整数
np4
```




    array([31, 28, 86, 24, 54, 57, 24, 25, 49, 77])



### 等差数列


```python
np5 = np.arange(1,99,step=2)#等差数列
np6 = np.arange(3)
np5
```




    array([ 1,  3,  5,  7,  9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
           35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63, 65, 67,
           69, 71, 73, 75, 77, 79, 81, 83, 85, 87, 89, 91, 93, 95, 97])




```python
np7 = np.linspace(0,100,100)#左比右闭，100表示outer多少个数据数值为 0-99/100
np7
```




    array([  0.        ,   1.01010101,   2.02020202,   3.03030303,
             4.04040404,   5.05050505,   6.06060606,   7.07070707,
             8.08080808,   9.09090909,  10.1010101 ,  11.11111111,
            12.12121212,  13.13131313,  14.14141414,  15.15151515,
            16.16161616,  17.17171717,  18.18181818,  19.19191919,
            20.2020202 ,  21.21212121,  22.22222222,  23.23232323,
            24.24242424,  25.25252525,  26.26262626,  27.27272727,
            28.28282828,  29.29292929,  30.3030303 ,  31.31313131,
            32.32323232,  33.33333333,  34.34343434,  35.35353535,
            36.36363636,  37.37373737,  38.38383838,  39.39393939,
            40.4040404 ,  41.41414141,  42.42424242,  43.43434343,
            44.44444444,  45.45454545,  46.46464646,  47.47474747,
            48.48484848,  49.49494949,  50.50505051,  51.51515152,
            52.52525253,  53.53535354,  54.54545455,  55.55555556,
            56.56565657,  57.57575758,  58.58585859,  59.5959596 ,
            60.60606061,  61.61616162,  62.62626263,  63.63636364,
            64.64646465,  65.65656566,  66.66666667,  67.67676768,
            68.68686869,  69.6969697 ,  70.70707071,  71.71717172,
            72.72727273,  73.73737374,  74.74747475,  75.75757576,
            76.76767677,  77.77777778,  78.78787879,  79.7979798 ,
            80.80808081,  81.81818182,  82.82828283,  83.83838384,
            84.84848485,  85.85858586,  86.86868687,  87.87878788,
            88.88888889,  89.8989899 ,  90.90909091,  91.91919192,
            92.92929293,  93.93939394,  94.94949495,  95.95959596,
            96.96969697,  97.97979798,  98.98989899, 100.        ])



### 查看数组的属性


```python
import numpy as np
nd = np.random.randn(5,3)#正态分布
nd
```




    array([[-2.754695  ,  0.64469843, -1.332285  ],
           [ 0.69806999, -1.95210791, -0.18401759],
           [-0.72203212, -0.68871443, -1.23341966],
           [ 0.03476345,  1.17667961,  2.26594606],
           [ 0.66002381,  0.04055581, -0.52349145]])




```python
nd.shape #返回数组类型，5行3列
```




    (5, 3)




```python
nd.size #数组里面有多少数据，5*3=15
```




    15




```python
nd.ndim #数组维度
```




    2




```python
nd.dtype #数据类型
```




    dtype('float64')




```python
nd.itemsize #条目，一个数据有多少字节  8字节“-2.754695”
#数据类型是float64 64位，一个字节占8位，64/8=8
```




    8



## 文件的IO（读取）操作 


```python
np1=np.random.randint(0,99,[3,5]) # 从【0，99）中随机取整数，取3行5列
np1
```




    array([[13, 94, 30, 98, 68],
           [ 5, 33, 38, 76, 79],
           [50,  2, 24, 83, 72]])




```python
np2 = np.random.randn(3,5)#标准正态分布中生成3行5列的数组
np2
```




    array([[ 0.03568522, -0.84812156,  0.11433857,  0.88474032,  2.56849592],
           [ 1.44201226,  1.01695685,  0.44202094,  0.03416946,  1.30168916],
           [-0.92963163, -0.6158841 ,  0.55821036,  0.2560327 , -0.32712191]])




```python
#将np1存入文件（单个数组）
np.save("./data.npy",np1)
#save("保存的文件地址",保存的数组)
```


```python
#读取
np.load('data.npy')
```




    array([[13, 94, 30, 98, 68],
           [ 5, 33, 38, 76, 79],
           [50,  2, 24, 83, 72]])




```python
#保存两个数组
np.savez("./data.npz",x=np1,y=np2)
```


```python
#读取
data = np.load('data.npz')#显示错误
```




    <numpy.lib.npyio.NpzFile at 0x12686f820>




```python
#读取
data = np.load('data.npz')
data['x'] #单个单个key值取，主意加单引号
```




    array([[13, 94, 30, 98, 68],
           [ 5, 33, 38, 76, 79],
           [50,  2, 24, 83, 72]])




```python
#压缩保存
np.savez_compressed('./data1.npz',x=np1,y=np2)#compressed :压缩
#读取
np.load('data1.npz')['x'] #直接读取
```




    array([[13, 94, 30, 98, 68],
           [ 5, 33, 38, 76, 79],
           [50,  2, 24, 83, 72]])




```python
#savetxt
np.savetxt(fname="./data.txt", # 文件名
           X=np1, # 数据
           fmt="%0.1f", # 格式：0.2flot
           delimiter=",") # 分隔符
np.savetxt(fname="./data.cvs", # 文件名
           X=np1, # 数据
           fmt="%0.1f", # 格式：0.2flot
           delimiter=",") # 分隔符
```


```python
#可以导入成csv文件
np.loadtxt('./data.cvs',delimiter=',')
```




    array([[13., 94., 30., 98., 68.],
           [ 5., 33., 38., 76., 79.],
           [50.,  2., 24., 83., 72.]])




```python
np.loadtxt('./data.txt',delimiter=',')
```




    array([[13., 94., 30., 98., 68.],
           [ 5., 33., 38., 76., 79.],
           [50.,  2., 24., 83., 72.]])



## 数据类型

## 数据的运算 

### 基本运算


```python
# 加减乘除指数幂运算
nd1 = np.random.randint(1,10,5)
nd2 = np.random.randint(1,10,5)
display(nd1,nd2)

```


    array([2, 7, 3, 3, 2])



    array([8, 8, 9, 3, 9])



```python
#加
nd1+nd2
```




    array([10, 15, 12,  6, 11])




```python
nd1-nd2
```




    array([-6, -1, -6,  0, -7])




```python
nd1*nd2 # 乘法
```




    array([16, 56, 27,  9, 18])




```python
nd1/nd2
```




    array([0.25      , 0.875     , 0.33333333, 1.        , 0.22222222])




```python
nd1^nd2 
```




    array([10, 15, 10,  0, 11])




```python
nd1**nd2 # **表示幂运算
```




    array([    256, 5764801,   19683,      27,     512])




```python
np.power(2,3) # 幂运算 2**3
```




    8




```python
#对数运算
np.log(2.718)#log是以e为底ln    2.718

```




    0.999896315728952




```python
np.log10(1000)
```




    3.0




```python
np.log2(8)
```




    3.0



### 逻辑运算


```python
display(nd1,nd2)
```


    array([2, 7, 3, 3, 2])



    array([8, 8, 9, 3, 9])



```python
nd1>nd2
```




    array([False, False, False, False, False])




```python
nd1<nd2
```




    array([ True,  True,  True, False,  True])




```python
nd1==nd2
```




    array([False, False, False,  True, False])




```python
nd1>=nd2
```




    array([False, False, False,  True, False])



### 数组与标量的运算


```python
# 数字3，4，5就是标量
print(nd1)
nd1+10 #所有的位置都加了10 广播机制
```

    [2 7 3 3 2]





    array([12, 17, 13, 13, 12])




```python
nd1-100
```




    array([-98, -93, -97, -97, -98])




```python
nd1*2
```




    array([ 4, 14,  6,  6,  4])




```python
nd1/10
```




    array([0.2, 0.7, 0.3, 0.3, 0.2])




```python
10/nd1
```




    array([5.        , 1.42857143, 3.33333333, 3.33333333, 5.        ])



### -= += *=  直接改变原数组



```python
display(nd1,nd2)#经过上面的加减乘除操作没有改变原来的数组的数值，因为nd1-nd2会生成新的对象，不改变原数组的值
# array([2, 7, 3, 3, 2])
# array([8, 8, 9, 3, 9])
```


    array([2, 7, 3, 3, 2])



    array([8, 8, 9, 3, 9])



```python
nd1 -= 100 #改变了原数组的值，
# nd1 -= 100 表示的是 nd1 = nd1 - 100
nd1
# array([-198, -193, -197, -197, -198])
```




    array([-198, -193, -197, -197, -198])




```python
#数组不支持 /=
```

## 复制和视图

## 索引、切片和迭代

### 基本索引和切片


```python
a = np.random.randint(0,30,10)
a
```




    array([ 5, 19, 22, 25, 22, 17, 28, 27, 26,  2])




```python
# 索引
a[3] # 取一个 -->25
a[[1,2,4,5]] # array([19, 22, 22, 17])
```




    array([19, 22, 22, 17])




```python
# 切片
a[0:2] # 左闭右开
# array([ 5, 19])
```




    array([ 5, 19])




```python
a[:3] # 从0开始
# array([ 5, 19, 22])
```




    array([ 5, 19, 22])




```python
# array([ 5, 19, 22, 25, 22, 17, 28, 27, 26,  2])
a[4:] # 从4开始到最后
```




    array([22, 17, 28, 27, 26,  2])




```python
a[:] # 所有元素
```




    array([ 5, 19, 22, 25, 22, 17, 28, 27, 26,  2])




```python
# array([ 5, 19, 22, 25, 22, 17, 28, 27, 26,  2])
a[::2] # 每两个取一个
#array([ 5, 22, 22, 28, 26])
```




    array([ 5, 22, 22, 28, 26])




```python
a[3::2] #从第四个开始取，每隔两个取一个
```




    array([25, 17, 27,  2])




```python
print(a)
a[::-1] #倒序
```

    [ 5 19 22 25 22 17 28 27 26  2]





    array([ 2, 26, 27, 28, 17, 22, 25, 22, 19,  5])




```python
print(a)
a[::-2] #倒序，每隔两个取一个
```

    [ 5 19 22 25 22 17 28 27 26  2]





    array([ 2, 27, 17, 25, 19])




```python
a[3::-1]
```




    array([25, 22, 19,  5])




```python
print(a)
a[5::-3] #5对应17 再每隔倒序3个取一个 22
```

    [ 5 19 22 25 22 17 28 27 26  2]





    array([17, 22])



#### 二维数组


```python
b = np.random.randint(0,30,(10,10))
b # 二维数组 10行10列
```




    array([[21, 26, 25, 22,  3,  3, 27, 27,  9,  4],
           [ 1, 23, 28,  9, 24, 27,  7, 26, 14, 13],
           [12,  6,  4, 18,  7,  3,  8,  8,  2, 29],
           [ 5, 20, 14,  8, 18, 25,  2,  8,  5, 18],
           [14,  3,  1,  3, 28,  9, 19, 15, 14,  9],
           [17, 11,  1,  0,  9,  9, 24, 15,  2,  1],
           [16,  2, 10,  5,  7,  8, 15, 21, 13, 21],
           [ 0, 25,  9, 21, 19,  0,  6,  0, 26,  8],
           [11, 12, 20, 10, 25, 12, 25,  5,  9, 13],
           [28, 29,  8, 15,  6, 20,  2, 16, 26,  7]])




```python
b[0] # 第1行数据
```




    array([21, 26, 25, 22,  3,  3, 27, 27,  9,  4])




```python
b[[0,2,3]] # 第1、3、4行
```




    array([[21, 26, 25, 22,  3,  3, 27, 27,  9,  4],
           [12,  6,  4, 18,  7,  3,  8,  8,  2, 29],
           [ 5, 20, 14,  8, 18, 25,  2,  8,  5, 18]])




```python
# [[行]，[列]]
b[[1],[1]] # 第1行第1列
```




    array([23])




```python
b[[1,2,3],[1,1,1]] # 第2、3、4行第2列
```




    array([23,  6, 20])




```python
#第1行所有列
b[0,:]
```




    array([21, 26, 25, 22,  3,  3, 27, 27,  9,  4])




```python
# 第1、2行的所有列
b[0:2,:] #行，列
```




    array([[21, 26, 25, 22,  3,  3, 27, 27,  9,  4],
           [ 1, 23, 28,  9, 24, 27,  7, 26, 14, 13]])




```python
b[-1,-1] # 倒序
```




    7



### 花式索引和索引技巧

#### 花式索引


```python
a = np.arange(20)
a
```




    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
           17, 18, 19])




```python
b = a[0:3]
display(a,b)
```


    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
           17, 18, 19])



    array([0, 1, 2])



```python
b[0] = 999
display(a,b) # 改变b的值，a也发生了改变，浅拷贝
```


    array([999,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,
            13,  14,  15,  16,  17,  18,  19])



    array([999,   1,   2])



```python
# 深拷贝
a = np.arange(20)
print(a)
b = a[[0,1,2,3]] # 花式索引
b[0] = 999       # 此方法b的值不影响a的值
display(a,b)
```

    [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]



    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
           17, 18, 19])



    array([999,   1,   2,   3])


#### 索引技巧


```python
a = np.random.randint(0,150,(100,3))
a
```




    array([[ 48, 128, 135],
           [  5,  14,  69],
           [130,  88,  14],
           [ 69,  18,  60],
           [ 72, 114,  12],
           [ 88, 111, 121],
           [137,  82,  61],
           [ 59,  49, 115],
           [ 81,  11,  35],
           [ 30,  22,  92],
           [ 97,  72,  16],
           [ 58,  18,  99],
           [132, 120, 111],
           [131,   6,  75],
           [ 79, 145,  19],
           [ 43,  78,  91],
           [123,  86,  22],
           [103, 149, 135],
           [142, 121,  62],
           [ 25, 143,  34],
           [ 37, 122,  76],
           [ 99, 135, 126],
           [ 69,   3,  74],
           [ 12,  62,   2],
           [ 44, 147,  11],
           [127, 125,  93],
           [104,  71,  98],
           [  8,  48, 144],
           [122,  43,  22],
           [ 50,  87,   3],
           [ 98,  16,   1],
           [ 28,  79,  55],
           [  3,  76, 106],
           [138,  25, 105],
           [ 80, 132,  28],
           [144,  17,  66],
           [ 25,  61,  61],
           [ 31, 121,  73],
           [ 33,   6,  87],
           [ 39,  94, 106],
           [146, 115, 106],
           [ 64,  29, 124],
           [ 43,  41,  52],
           [ 16,  41,   1],
           [ 15,  83,  89],
           [ 19,  72, 122],
           [ 53, 145, 146],
           [116, 106,  33],
           [131,  27, 141],
           [ 53, 139, 109],
           [102,  47,  23],
           [102, 101, 128],
           [ 21, 148, 142],
           [ 71, 109,  51],
           [ 74, 102,  82],
           [ 56,  23, 115],
           [126, 149, 104],
           [121, 110, 141],
           [101, 123, 144],
           [ 58, 101, 137],
           [ 72,  73,  64],
           [145, 116, 127],
           [ 92,  22,  19],
           [ 22, 118,  98],
           [119, 110,  17],
           [ 71, 110,  96],
           [ 28,  68,  24],
           [ 21, 101, 126],
           [ 97, 111, 107],
           [ 76,  12,  67],
           [ 82,  33, 140],
           [ 24,  27,  36],
           [ 70,   4,  13],
           [  3,  23,   6],
           [134,   8,  24],
           [ 65,  59,  78],
           [ 65,  67,  69],
           [ 63,  66,  90],
           [ 86,  22,   2],
           [132,  27, 108],
           [  1, 124, 132],
           [ 49,  94, 146],
           [109,  73, 109],
           [121,  17,  64],
           [110,  85,  75],
           [134,  11,  11],
           [112, 142,  51],
           [ 29,  17,  54],
           [134, 136,  81],
           [ 27,  44,  55],
           [ 76,   5, 121],
           [ 56, 124,  51],
           [ 18,  94,  61],
           [ 76, 137,   3],
           [ 19,   6,  85],
           [119,   9, 122],
           [ 85,  92, 100],
           [107, 146,  51],
           [ 42, 101, 134],
           [  7,  91,  75]])




```python
cond = a >= 100
cond # 判断为bool值 Ture（1）和Faluse（0）

```




    array([[False,  True,  True],
           [False, False, False],
           [ True, False, False],
           [False, False, False],
           [False,  True, False],
           [False,  True,  True],
           [ True, False, False],
           [False, False,  True],
           [False, False, False],
           [False, False, False],
           [False, False, False],
           [False, False, False],
           [ True,  True,  True],
           [ True, False, False],
           [False,  True, False],
           [False, False, False],
           [ True, False, False],
           [ True,  True,  True],
           [ True,  True, False],
           [False,  True, False],
           [False,  True, False],
           [False,  True,  True],
           [False, False, False],
           [False, False, False],
           [False,  True, False],
           [ True,  True, False],
           [ True, False, False],
           [False, False,  True],
           [ True, False, False],
           [False, False, False],
           [False, False, False],
           [False, False, False],
           [False, False,  True],
           [ True, False,  True],
           [False,  True, False],
           [ True, False, False],
           [False, False, False],
           [False,  True, False],
           [False, False, False],
           [False, False,  True],
           [ True,  True,  True],
           [False, False,  True],
           [False, False, False],
           [False, False, False],
           [False, False, False],
           [False, False,  True],
           [False,  True,  True],
           [ True,  True, False],
           [ True, False,  True],
           [False,  True,  True],
           [ True, False, False],
           [ True,  True,  True],
           [False,  True,  True],
           [False,  True, False],
           [False,  True, False],
           [False, False,  True],
           [ True,  True,  True],
           [ True,  True,  True],
           [ True,  True,  True],
           [False,  True,  True],
           [False, False, False],
           [ True,  True,  True],
           [False, False, False],
           [False,  True, False],
           [ True,  True, False],
           [False,  True, False],
           [False, False, False],
           [False,  True,  True],
           [False,  True,  True],
           [False, False, False],
           [False, False,  True],
           [False, False, False],
           [False, False, False],
           [False, False, False],
           [ True, False, False],
           [False, False, False],
           [False, False, False],
           [False, False, False],
           [False, False, False],
           [ True, False,  True],
           [False,  True,  True],
           [False, False,  True],
           [ True, False,  True],
           [ True, False, False],
           [ True, False, False],
           [ True, False, False],
           [ True,  True, False],
           [False, False, False],
           [ True,  True, False],
           [False, False, False],
           [False, False,  True],
           [False,  True, False],
           [False, False, False],
           [False,  True, False],
           [False, False, False],
           [ True, False,  True],
           [False, False,  True],
           [ True,  True, False],
           [False,  True,  True],
           [False, False, False]])




```python
cond1 = cond[:,0]*cond[:,1]*cond[:,2]   # 1*1*1=1 ture
a[cond1]
```




    array([[132, 120, 111],
           [103, 149, 135],
           [146, 115, 106],
           [102, 101, 128],
           [126, 149, 104],
           [121, 110, 141],
           [101, 123, 144],
           [145, 116, 127]])



## 形状操作

### 数组变形


```python
a = np.random.randint(0,10,(5,3))
a
```




    array([[3, 5, 4],
           [7, 8, 2],
           [3, 8, 2],
           [1, 7, 6],
           [9, 7, 4]])




```python
a.reshape(3,5)  # 行列变换的相乘相等 5*3=3*5
```




    array([[3, 5, 4, 7, 8],
           [2, 3, 8, 2, 1],
           [7, 6, 9, 7, 4]])




```python
# 自动整形
a.reshape(-1,3) # -1表示数据，3表示列，-1=5
```




    array([[3, 5, 4],
           [7, 8, 2],
           [3, 8, 2],
           [1, 7, 6],
           [9, 7, 4]])



### 转置


```python
a
```




    array([[3, 5, 4],
           [7, 8, 2],
           [3, 8, 2],
           [1, 7, 6],
           [9, 7, 4]])




```python
a.T  # 行变列，列变行 
```




    array([[3, 7, 3, 1, 9],
           [5, 8, 8, 7, 7],
           [4, 2, 2, 6, 4]])




```python
np.transpose(a,(1,0)) # 行是X=0轴 列是X=1轴，默认是（0，1）。通过transpose 转化为（1，0）转置T
```




    array([[3, 7, 3, 1, 9],
           [5, 8, 8, 7, 7],
           [4, 2, 2, 6, 4]])




```python
c = np.random.randint(0,10,(3,5,7)) # 三维 5行7列
c
```




    array([[[1, 2, 9, 3, 1, 6, 5],
            [0, 9, 7, 4, 1, 2, 1],
            [4, 3, 6, 8, 8, 1, 7],
            [9, 8, 0, 8, 8, 6, 2],
            [6, 3, 8, 1, 5, 9, 9]],
    
           [[3, 6, 4, 3, 8, 2, 5],
            [4, 1, 0, 3, 5, 6, 0],
            [3, 7, 4, 5, 0, 4, 8],
            [8, 8, 8, 1, 1, 0, 2],
            [2, 6, 7, 1, 1, 8, 7]],
    
           [[1, 6, 7, 8, 8, 6, 2],
            [1, 3, 8, 1, 4, 6, 2],
            [6, 3, 9, 4, 9, 8, 6],
            [6, 2, 5, 1, 0, 8, 7],
            [5, 8, 4, 4, 1, 4, 7]]])




```python
d = np.transpose(c,(2,1,0)) # 默认情况轴是（0，1，2），先转置为（2，1，0）
d
```




    array([[[1, 3, 1],
            [0, 4, 1],
            [4, 3, 6],
            [9, 8, 6],
            [6, 2, 5]],
    
           [[2, 6, 6],
            [9, 1, 3],
            [3, 7, 3],
            [8, 8, 2],
            [3, 6, 8]],
    
           [[9, 4, 7],
            [7, 0, 8],
            [6, 4, 9],
            [0, 8, 5],
            [8, 7, 4]],
    
           [[3, 3, 8],
            [4, 3, 1],
            [8, 5, 4],
            [8, 1, 1],
            [1, 1, 4]],
    
           [[1, 8, 8],
            [1, 5, 4],
            [8, 0, 9],
            [8, 1, 0],
            [5, 1, 1]],
    
           [[6, 2, 6],
            [2, 6, 6],
            [1, 4, 8],
            [6, 0, 8],
            [9, 8, 4]],
    
           [[5, 5, 2],
            [1, 0, 2],
            [7, 8, 6],
            [2, 2, 7],
            [9, 7, 7]]])





### 数据的堆叠合并


```python
nd1 = np.random.randint(0,10,(3,5))
nd2 = np.random.randint(0,10,(3,5))
display(nd1,nd2)
```


    array([[5, 8, 6, 8, 0],
           [0, 4, 8, 6, 1],
           [5, 8, 3, 3, 3]])



    array([[6, 0, 0, 0, 4],
           [3, 1, 9, 8, 9],
           [0, 3, 0, 7, 4]])



```python
np.concatenate([nd1,nd2],axis=0) # 行拼接组合 axis轴
```




    array([[5, 8, 6, 8, 0],
           [0, 4, 8, 6, 1],
           [5, 8, 3, 3, 3],
           [6, 0, 0, 0, 4],
           [3, 1, 9, 8, 9],
           [0, 3, 0, 7, 4]])




```python
np.concatenate([nd1,nd2],axis=1) # 列拼接组合
```




    array([[5, 8, 6, 8, 0, 6, 0, 0, 0, 4],
           [0, 4, 8, 6, 1, 3, 1, 9, 8, 9],
           [5, 8, 3, 3, 3, 0, 3, 0, 7, 4]])




```python
np.concatenate([nd1,nd2],axis=None) 
```




    array([5, 8, 6, 8, 0, 0, 4, 8, 6, 1, 5, 8, 3, 3, 3, 6, 0, 0, 0, 4, 3, 1,
           9, 8, 9, 0, 3, 0, 7, 4])




```python
nd1 = np.random.randint(0,10,(3,5))
nd2 = np.random.randint(0,10,(5,3))
display(nd1,nd2)
```


    array([[5, 3, 3, 5, 9],
           [3, 1, 7, 5, 6],
           [5, 8, 5, 1, 4]])



    array([[2, 0, 0],
           [3, 1, 1],
           [2, 1, 3],
           [8, 0, 4],
           [0, 4, 5]])



```python
np.concatenate([nd1,nd2],axis=0) # 行拼接组合不了，列数不相同，可以转置
```


    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    Input In [118], in <cell line: 1>()
    ----> 1 np.concatenate([nd1,nd2],axis=0)


    File <__array_function__ internals>:5, in concatenate(*args, **kwargs)


    ValueError: all the input array dimensions for the concatenation axis must match exactly, but along dimension 1, the array at index 0 has size 5 and the array at index 1 has size 3



```python
np.concatenate([nd1,nd2.T],axis=0)
```




    array([[5, 3, 3, 5, 9],
           [3, 1, 7, 5, 6],
           [5, 8, 5, 1, 4],
           [2, 3, 2, 8, 0],
           [0, 1, 1, 0, 4],
           [0, 1, 3, 4, 5]])




```python
np.concatenate([nd1,nd2.T],axis=1) # 列组合
```




    array([[5, 3, 3, 5, 9, 2, 3, 2, 8, 0],
           [3, 1, 7, 5, 6, 0, 1, 1, 0, 4],
           [5, 8, 5, 1, 4, 0, 1, 3, 4, 5]])




```python
np.hstack((nd1,nd2.T)) # h表示水平拼接 列增多
```




    array([[5, 3, 3, 5, 9, 2, 3, 2, 8, 0],
           [3, 1, 7, 5, 6, 0, 1, 1, 0, 4],
           [5, 8, 5, 1, 4, 0, 1, 3, 4, 5]])




```python
np.vstack((nd1,nd2.T,nd2.T,nd2.T,nd2.T)) # v表示水平拼接 行增多
```




    array([[5, 3, 3, 5, 9],
           [3, 1, 7, 5, 6],
           [5, 8, 5, 1, 4],
           [2, 3, 2, 8, 0],
           [0, 1, 1, 0, 4],
           [0, 1, 3, 4, 5],
           [2, 3, 2, 8, 0],
           [0, 1, 1, 0, 4],
           [0, 1, 3, 4, 5],
           [2, 3, 2, 8, 0],
           [0, 1, 1, 0, 4],
           [0, 1, 3, 4, 5],
           [2, 3, 2, 8, 0],
           [0, 1, 1, 0, 4],
           [0, 1, 3, 4, 5]])



### 拆分


```python
a = np.random.randint(0,100,(15,10))
a
```




    array([[ 4, 20, 16, 52, 85, 95,  7, 26, 16, 79],
           [65, 76, 84, 73,  3, 58, 94, 71, 46, 65],
           [51, 59, 42, 32,  2,  1,  2, 87, 88, 40],
           [ 3, 45, 69, 90, 94, 21,  3,  3, 80, 65],
           [ 3,  6,  1, 22, 10, 57, 68, 87, 67, 15],
           [24, 36,  9,  4, 74, 29, 41, 15, 33, 66],
           [47, 73, 18, 49, 71,  7, 99, 95, 59, 59],
           [12, 42,  7, 20, 16,  8,  6, 23, 60, 79],
           [73, 69, 82, 43, 49, 11, 93, 39, 24, 80],
           [74, 14, 23, 13, 44, 12, 99, 25,  8, 86],
           [82, 74,  9, 47, 76,  7, 72, 22, 61, 29],
           [95, 99, 27, 47, 24, 20, 49, 37, 23, 46],
           [45, 47, 96, 84, 32, 28, 35, 57, 80, 16],
           [48, 85, 47, 44, 26, 85, 76, 82, 78,  7],
           [61, 43, 80, 67,  0, 18, 45, 29, 91, 43]])




```python
np.split(a,indices_or_sections=3,axis=0) # 按行（共15份）来将数组平均分成3份
```




    [array([[ 4, 20, 16, 52, 85, 95,  7, 26, 16, 79],
            [65, 76, 84, 73,  3, 58, 94, 71, 46, 65],
            [51, 59, 42, 32,  2,  1,  2, 87, 88, 40],
            [ 3, 45, 69, 90, 94, 21,  3,  3, 80, 65],
            [ 3,  6,  1, 22, 10, 57, 68, 87, 67, 15]]),
     array([[24, 36,  9,  4, 74, 29, 41, 15, 33, 66],
            [47, 73, 18, 49, 71,  7, 99, 95, 59, 59],
            [12, 42,  7, 20, 16,  8,  6, 23, 60, 79],
            [73, 69, 82, 43, 49, 11, 93, 39, 24, 80],
            [74, 14, 23, 13, 44, 12, 99, 25,  8, 86]]),
     array([[82, 74,  9, 47, 76,  7, 72, 22, 61, 29],
            [95, 99, 27, 47, 24, 20, 49, 37, 23, 46],
            [45, 47, 96, 84, 32, 28, 35, 57, 80, 16],
            [48, 85, 47, 44, 26, 85, 76, 82, 78,  7],
            [61, 43, 80, 67,  0, 18, 45, 29, 91, 43]])]




```python
np.split(a,indices_or_sections=2,axis=1) # 按列（共10份）来将数组平均分成2份
```




    [array([[ 4, 20, 16, 52, 85],
            [65, 76, 84, 73,  3],
            [51, 59, 42, 32,  2],
            [ 3, 45, 69, 90, 94],
            [ 3,  6,  1, 22, 10],
            [24, 36,  9,  4, 74],
            [47, 73, 18, 49, 71],
            [12, 42,  7, 20, 16],
            [73, 69, 82, 43, 49],
            [74, 14, 23, 13, 44],
            [82, 74,  9, 47, 76],
            [95, 99, 27, 47, 24],
            [45, 47, 96, 84, 32],
            [48, 85, 47, 44, 26],
            [61, 43, 80, 67,  0]]),
     array([[95,  7, 26, 16, 79],
            [58, 94, 71, 46, 65],
            [ 1,  2, 87, 88, 40],
            [21,  3,  3, 80, 65],
            [57, 68, 87, 67, 15],
            [29, 41, 15, 33, 66],
            [ 7, 99, 95, 59, 59],
            [ 8,  6, 23, 60, 79],
            [11, 93, 39, 24, 80],
            [12, 99, 25,  8, 86],
            [ 7, 72, 22, 61, 29],
            [20, 49, 37, 23, 46],
            [28, 35, 57, 80, 16],
            [85, 76, 82, 78,  7],
            [18, 45, 29, 91, 43]])]




```python
# 切片
np.split(a,indices_or_sections=[1,3,5],axis=0) # 0-1 ,1-3,3-5,5-结束 分
```




    [array([[ 4, 20, 16, 52, 85, 95,  7, 26, 16, 79]]),
     array([[65, 76, 84, 73,  3, 58, 94, 71, 46, 65],
            [51, 59, 42, 32,  2,  1,  2, 87, 88, 40]]),
     array([[ 3, 45, 69, 90, 94, 21,  3,  3, 80, 65],
            [ 3,  6,  1, 22, 10, 57, 68, 87, 67, 15]]),
     array([[24, 36,  9,  4, 74, 29, 41, 15, 33, 66],
            [47, 73, 18, 49, 71,  7, 99, 95, 59, 59],
            [12, 42,  7, 20, 16,  8,  6, 23, 60, 79],
            [73, 69, 82, 43, 49, 11, 93, 39, 24, 80],
            [74, 14, 23, 13, 44, 12, 99, 25,  8, 86],
            [82, 74,  9, 47, 76,  7, 72, 22, 61, 29],
            [95, 99, 27, 47, 24, 20, 49, 37, 23, 46],
            [45, 47, 96, 84, 32, 28, 35, 57, 80, 16],
            [48, 85, 47, 44, 26, 85, 76, 82, 78,  7],
            [61, 43, 80, 67,  0, 18, 45, 29, 91, 43]])]




```python
np.hsplit(a,indices_or_sections=2)  # horizintal 水平切 列方向分割两份
```




    [array([[ 4, 20, 16, 52, 85],
            [65, 76, 84, 73,  3],
            [51, 59, 42, 32,  2],
            [ 3, 45, 69, 90, 94],
            [ 3,  6,  1, 22, 10],
            [24, 36,  9,  4, 74],
            [47, 73, 18, 49, 71],
            [12, 42,  7, 20, 16],
            [73, 69, 82, 43, 49],
            [74, 14, 23, 13, 44],
            [82, 74,  9, 47, 76],
            [95, 99, 27, 47, 24],
            [45, 47, 96, 84, 32],
            [48, 85, 47, 44, 26],
            [61, 43, 80, 67,  0]]),
     array([[95,  7, 26, 16, 79],
            [58, 94, 71, 46, 65],
            [ 1,  2, 87, 88, 40],
            [21,  3,  3, 80, 65],
            [57, 68, 87, 67, 15],
            [29, 41, 15, 33, 66],
            [ 7, 99, 95, 59, 59],
            [ 8,  6, 23, 60, 79],
            [11, 93, 39, 24, 80],
            [12, 99, 25,  8, 86],
            [ 7, 72, 22, 61, 29],
            [20, 49, 37, 23, 46],
            [28, 35, 57, 80, 16],
            [85, 76, 82, 78,  7],
            [18, 45, 29, 91, 43]])]




```python
np.vsplit(a,indices_or_sections=3)  # vertical 竖直切 行方向分割3份
```




    [array([[ 4, 20, 16, 52, 85, 95,  7, 26, 16, 79],
            [65, 76, 84, 73,  3, 58, 94, 71, 46, 65],
            [51, 59, 42, 32,  2,  1,  2, 87, 88, 40],
            [ 3, 45, 69, 90, 94, 21,  3,  3, 80, 65],
            [ 3,  6,  1, 22, 10, 57, 68, 87, 67, 15]]),
     array([[24, 36,  9,  4, 74, 29, 41, 15, 33, 66],
            [47, 73, 18, 49, 71,  7, 99, 95, 59, 59],
            [12, 42,  7, 20, 16,  8,  6, 23, 60, 79],
            [73, 69, 82, 43, 49, 11, 93, 39, 24, 80],
            [74, 14, 23, 13, 44, 12, 99, 25,  8, 86]]),
     array([[82, 74,  9, 47, 76,  7, 72, 22, 61, 29],
            [95, 99, 27, 47, 24, 20, 49, 37, 23, 46],
            [45, 47, 96, 84, 32, 28, 35, 57, 80, 16],
            [48, 85, 47, 44, 26, 85, 76, 82, 78,  7],
            [61, 43, 80, 67,  0, 18, 45, 29, 91, 43]])]



## 广播机制 

## 通用函数


```python
# abs sqrt square exp log sin cos max min 
# all any ineer round ceil floor
```


```python
# abs 绝对值
a = np.array([-1,-2,0,1])
np.abs(a)
```




    array([1, 2, 0, 1])




```python
# sqrt 开平方
a = np.array([4,9,16])
np.sqrt(a)
```




    array([2., 3., 4.])




```python
# square 平方
np.square(a)
```




    array([ 16,  81, 256])




```python
# exp  e的多少次方
np.exp(2)
```




    7.38905609893065




```python
# log sin cos max min
b=np.log2(4)
c = np.sin(np.pi/2.)
d = np.cos(0)

display(b,c,d)
```


    2.0



    1.0



    1.0



```python
 # all any ineer clip round ceil floor
a = np.array([-1,0,1])  # any 只要有一个Ture 返回 Ture
b = np.array([-1,2,1])  # all 只要有一个False 返回 False
print(np.any(a))
print(np.all(a))
print(np.any(b))
print(np.all(b))
```

    True
    False
    True
    True



```python
# ineer 内积  对应位置相乘再相加
a = np.array([-1,0,1])
b = np.array([-1,2,1])
np.inner(a,b)
```




    2




```python
# clip 裁剪 
a = np.array([4,9,16])
np.clip(a,5,15) # 小于5的变成5，大于15的变成15
```




    array([ 5,  9, 15])




```python
# round 有几位小数
a = np.random.randn(20)
a
```




    array([ 1.41546082, -1.8267292 , -0.25774205,  0.16792963,  0.5775276 ,
            0.88644028,  1.86348935,  0.18649214,  1.31549334, -1.04598879,
            0.7353373 , -0.68840447,  0.56053648, -1.54844424,  1.21589944,
            1.42811753, -1.42578828,  0.2555543 ,  1.44319002, -0.21603108])




```python
a.round(2)
```




    array([ 1.42, -1.83, -0.26,  0.17,  0.58,  0.89,  1.86,  0.19,  1.32,
           -1.05,  0.74, -0.69,  0.56, -1.55,  1.22,  1.43, -1.43,  0.26,
            1.44, -0.22])




```python
# ceil 向上取整
np.ceil(2.3)
```




    3.0




```python
# floor 向下取整
np.floor(2.3)
```




    2.0




```python
# trace 计算对角线的和
a = np.random.randint(0,19,(3,3))
print(a)
print(np.trace(a))

```

    [[ 9 15  4]
     [11  0 17]
     [13 14 15]]
    24



```python

```
